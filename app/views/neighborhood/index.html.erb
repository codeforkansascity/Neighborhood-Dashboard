<div class="container">
  <section class="neighborhood-navigation col-md-3">
    <ul>
      <li class="active"><a href='#'>Home</a></li>
      <li><a href='#'>About</a></li>
      <li><a href='#'>Neighborhood Map</a></li>
      <li><a href='#'></a></li>
    </ul>
  </section>
  <section class="neighborhood col-md-9">
    <h1>Dashboard for <%= @neighborhood.name %></h1>
    <h2 style="text-align: center; font-size: large;">Yearly 311 Report Count</h2>
    <canvas id="myChart" width="650" height="400"></canvas>
  </section>
  <script>
    var years = <%= @neighborhood_data.yearly_311.map { |key,value| key.to_i }.to_json %>;
    var dataSet = <%= @neighborhood_data.yearly_311.map { |key,value| value }.to_json %>;

    $(document).ready(function() {
      var data = {
        labels: years,
        datasets: [
          {
              label: "Yearly 311 Report Counts",
              fillColor: "rgba(151,187,205,0.2)",
              strokeColor: "rgba(151,187,205,1)",
              pointColor: "rgba(151,187,205,1)",
              pointStrokeColor: "#fff",
              pointHighlightFill: "#fff",
              pointHighlightStroke: "rgba(151,187,205,1)",
              data: dataSet
          }
        ]
      };

      var ctx = document.getElementById("myChart").getContext("2d");
      var myNewChart = new Chart(ctx).Line(data);
      console.log(myNewChart)
    });

  </script>
</div>
